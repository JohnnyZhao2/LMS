1. 项目概况与技术栈
- 技术栈：前端 React，后端 Django
- 核心目标：实现“学、练、考、评”闭环，资源与任务分离，先组卷/选知识，后发布任务
- 组织架构：团队分为 一室 和 二室
- 角色基础规则（核心）：
  - 默认角色：所有用户登录后默认拥有“普通学员”角色，看到学员菜单
  - 角色切换：拥有高级权限（导师/经理/管理员）的用户，顶部菜单栏显示角色切换器。切换角色后，菜单栏实时刷新，严禁跨角色菜单残留

---
2. 角色与权限定义
- 学员：被动接收任务，查看知识库，查看个人数据
- 导师：管理名下学员，可创建“测验资源”，发布任务给名下学员，进行现场抽查录入
- 室经理：管理本室全员，可创建“测验资源”，发布任务给本室员工，进行现场抽查录入
- 团队经理：查看全团队数据看板，不参与具体操作
- 管理员：系统全权，负责基础配置及跨团队任务

---
3. 核心业务流程规则
3.1 资源与任务分离原则（核心架构）
系统必须严格遵循“先生产资源，后发布任务”的逻辑
资源层（Assets）
- 知识库：静态文档（支持 CRUD）
  - 内容分类：
    - 一级标签（大类）：双云、网络、数据库、应用、应急场景、规章制度
    - 二级标签（系统对象）：手机银行、数字人民币、核心系统等
    - 操作标签：重启、隔离、扩容、应急切换等
- 测验/试卷 (Quiz)：题目的容器
  - 用户需先创建一个“测验”（如“数据库基础专项练”）
  - 进入后添加/编辑题目（支持从题库选或新增）
  - 保存后成为可调用的静态资源
任务层（Tasks）
- 动作定义：将“资源”分配给人的动作
- 任务类型：
  - 学习任务
  - 练习任务（支持重做）
  - 考试任务（不支持重做）

---
3.2 任务创建差异化流程
A. 学习任务 (Learning Task)
- 场景：纯阅读类任务，用于新知识宣贯
- 资源来源：知识库
- 创建流程：标题/截止时间 → 勾选知识文档（多选） → 选择学员 → 发布
- 完成逻辑：学员点击“我已学习掌握”触发完成
B. 练习任务 (Practice Task)
- 场景：巩固知识，允许反复尝试
- 资源来源：试卷/测验库 
- 创建流程：标题/截止时间 → 勾选试卷资源（多选） → 勾选相关知识（非必选） → 选择学员 → 发布
- 完成逻辑：点击交卷按钮后完成，客观题做完后显示解析，主观题进入“待评分”队列，支持重做
C. 考试任务 (Exam Task)
- 场景：阶段性考核，环境严格，一次机会
- 资源来源：试卷/测验库
- 创建流程：标题 → 设置考试时间窗口 & 答题限时 & 防作弊开关 → 勾选试卷资源（单选） → 选择学员 → 发布
- 完成逻辑：点击交卷后完成，客观题自动评分，主观题进入“待评分”队列，禁止重做

---
3.3 现场抽查逻辑
- “线下执行，线上录入”
- 导师/室经理操作流程：
  1. 选择对象
  2. 填写/选择抽查主题
  3. 录入评分（1-10 分）与评语
  4. 提交入库

---
4. 菜单与功能设计
4.1 学员菜单
4.1.1 仪表盘
- 核心交互：数据统计、待办任务列表、最新知识
- 卡片内容：
  - 最新知识：最近更新的文档列表
  - 待办任务：按截止时间排序的未完成任务
4.1.2 知识中心
- 筛选区：
  - 第一行：6 个大类标签（双云/网络/数据库…）
  - 第二行：选择大类后动态加载二级标签（如手机银行…）
  - 支持关键词全局搜索
- 知识列表（卡片样式）：
  - 头部：操作类型标签（如 [重启]、[隔离]）
  - 中部：知识标题 + 内容缩略（2-3 行）
  - 底部左对齐：修改人 + 修改时间
- 详情页：右侧目录，底部“我已学习完成”按钮（仅从任务跳转的才显示）
4.1.3 任务中心
- 筛选区：类型筛选（学习/练习/考试） + 状态筛选（进行中/已完成/已逾期）
- 任务列表（卡片样式）：
  - 上部：任务标题 + 任务介绍
  - 底部左侧：创建人 + 截止时间/状态
  - 底部右侧：完成进度（例：10/20 人已完成）
- 任务详情：
  - 头部信息：标题、介绍、创建人、子任务数量、截止时间、完成人数
  - 下方列表：
    - 学习任务：展示知识列表，阅读后标记为完成
    - 练习任务：展示测验 + 关联知识，支持重做与解析
    - 考试任务：展示唯一考试入口 + 考试须知，不支持重做
- 答题交互界面：
  - 未完成状态（练习/考试）：左侧/顶部题目导航，内容区显示题干、选项、操作按钮
  - 已完成状态：
    - 练习：总分、答对题数、总用时 + 回顾解析 + 重做按钮
    - 考试：显示分数与答题情况，不显示重做按钮
4.1.4 个人中心
- 用户信息、积分/学分记录、错题本（练习/考试错题汇总）

---
4.2 导师 & 室经理菜单
菜单结构相似，区别在数据范围
仪表盘
- 数据概览：所管辖员工完成率、平均分
- 待办事项：待人工评分任务数量
- 快捷入口：发起抽查、新建测验、发布任务
资源管理
- 测验/试卷管理：显示当前用户创建的测验
- 新建/编辑测验：
  - 组卷编辑器：修改名称、添加题目（单选/多选/判断/简答）、调整顺序、设定分数
任务管理
- 新建任务：
  1. 选类型（学习/练习/考试）
  2. 填写对应表单
  3. 人员选择器
    - 导师视图：显示我的学员
    - 室经理视图：显示本室全员，可全选/按入职筛选/手动勾选（自动过滤自己）
- 任务列表：查看任务状态及完成情况
评分中心 
- 待评分列表（仅主观题）
- 评分界面：左题目+答案，右得分+评语，支持“一键满分”
- 已评分记录
抽查中心 
- 录入抽查：选择员工 → 填写主题 → 打分/评语 → 提交
- 抽查记录：历史查询

---
4.3 管理员菜单 (Admin)
- 仪表盘：全平台数据
- 知识库管理：
  - 文章维护：全平台知识文档 CRUD，支持 Markdown/富文本，批量导入
  - 标签管理：维护知识分类、系统标签、操作标签
- 题库管理：
  - 题目列表：单/多选、判断、简答题集中维护
  - 题目导入：Excel 模板，支持大批量上传
- 测验/试卷管理：可创建公共标准试卷供调用
- 任务管理：
  - 新建任务：流程同导师/室经理，但人员选择器支持全公司范围
  - 全平台任务列表：查看所有任务，支持强制结束
- 用户与权限：
  - 用户列表：增删改查，重置密码
  - 组织架构：划分一室/二室，指定室经理
  - 师徒关系：绑定导师和学员

---
4.4 团队经理菜单
- 团队数据看板：
  - 各室对比分析
  - 知识库热度分析
  - 员工分析
- 不直接创建测验或任务，只看数据

---

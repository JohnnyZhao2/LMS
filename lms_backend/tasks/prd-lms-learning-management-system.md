# Product Requirements Document (PRD)
# 学习管理系统 (LMS) - Learning Management System

## 1. Introduction/Overview

本系统是一个面向企业内部培训的学习管理平台，旨在实现"学、练、考、评"的完整闭环。系统采用"资源与任务分离"的核心架构，支持多角色协作，包括学员、导师、室经理、团队经理和管理员。

**核心问题：** 传统培训方式缺乏系统化管理，知识传递效率低，考核评估不规范，数据难以追踪和分析。

**目标：** 构建一个标准化、可追溯、数据驱动的学习管理平台，提升团队整体能力水平。

---

## 2. Goals

1. 实现知识库的集中管理和高效检索，支持多维度标签分类
2. 建立"资源-任务"分离的业务模型，确保资源可复用、任务可追踪
3. 支持学习、练习、考试三种任务类型，满足不同培训场景
4. 实现客观题自动评分、主观题人工评分的混合评分机制
5. 提供多角色权限管理，确保数据隔离和操作安全
6. 构建数据看板，为管理层提供决策支持

---

## 3. User Stories

### 3.1 学员 (Student)
- 作为学员，我希望在仪表盘看到待办任务和最新知识，以便快速了解学习进度
- 作为学员，我希望通过多维度标签筛选知识文档，以便快速找到需要的内容
- 作为学员，我希望完成学习任务后点击"我已学习掌握"，以便标记任务完成
- 作为学员，我希望练习任务支持重做和查看解析，以便巩固知识点
- 作为学员，我希望考试任务只能提交一次，以便模拟真实考核环境
- 作为学员，我希望查看错题本，以便针对性复习薄弱知识点

### 3.2 导师 (Mentor)
- 作为导师，我希望创建测验资源并从题库选题或新建题目，以便灵活组卷
- 作为导师，我希望发布学习/练习/考试任务给我的学员，以便管理他们的学习进度
- 作为导师，我希望对主观题进行人工评分，以便给出准确的成绩和反馈
- 作为导师，我希望录入现场抽查记录，以便记录线下考核情况
- 作为导师，我希望查看我的学员完成率和平均分，以便了解整体学习效果

### 3.3 室经理 (Department Manager)
- 作为室经理，我希望创建测验资源并从题库选题或新建题目，以便灵活组卷
- 作为室经理，我希望发布学习/练习/考试任务给本室全员，以便统一培训标准
- 作为室经理，我希望对主观题进行人工评分，以便给出准确的成绩和反馈
- 作为室经理，我希望录入现场抽查记录，以便记录线下考核情况
- 作为室经理，我希望查看本室员工完成率和平均分，以便掌握部门整体学习情况

### 3.4 团队经理 (Team Manager)
- 作为团队经理，我希望查看全团队数据看板，以便了解各室对比情况
- 作为团队经理，我希望分析知识库热度，以便优化培训内容
- 作为团队经理，我希望查看员工分析报告，以便识别培训重点

### 3.5 管理员 (Admin)
- 作为管理员，我希望维护全平台知识库，以便统一管理培训资料
- 作为管理员，我希望管理题库并支持批量导入，以便高效构建题目资源
- 作为管理员，我希望配置组织架构和师徒关系，以便建立管理层级
- 作为管理员，我希望创建跨团队任务，以便开展全公司培训

---

## 4. Functional Requirements

### 4.1 用户认证与角色管理

**FR-1.1** 系统必须支持用户登录，所有用户默认拥有"学员"角色

**FR-1.2** 系统必须为拥有多角色权限的用户提供角色切换器（显示在顶部菜单栏）

**FR-1.3** 用户切换角色后，系统必须实时刷新菜单栏，仅显示当前角色权限范围内的菜单项

**FR-1.4** 系统必须严格隔离不同角色的数据访问权限，切换角色后只能看到当前角色权限范围内的数据

**FR-1.5** 导师切换到学员角色时，系统必须显示该用户作为学员的任务；切换到导师角色时，系统必须显示该用户作为导师创建的任务

**FR-1.6** 系统必须支持以下角色：学员、导师、室经理、团队经理、管理员

---

### 4.2 知识库管理

**FR-2.1** 系统必须支持知识文档的创建、读取、更新、删除（CRUD）操作

**FR-2.2** 系统必须支持三级标签分类：
- 一级标签（大类）：双云、网络、数据库、应用、应急场景、规章制度
- 二级标签（系统对象）：手机银行、数字人民币、核心系统等
- 操作标签：重启、隔离、扩容、应急切换等

**FR-2.3** 系统必须支持知识文档的 Markdown 或富文本编辑

**FR-2.4** 系统必须支持知识文档的批量导入功能

**FR-2.5** 学员知识中心必须提供筛选功能：
- 第一行显示 6 个一级标签按钮
- 选择一级标签后，第二行动态加载对应的二级标签
- 支持关键词全局搜索

**FR-2.6** 知识列表必须以卡片样式展示，包含：
- 头部：操作类型标签（如 [重启]、[隔离]）
- 中部：知识标题 + 内容缩略（2-3 行）
- 底部：修改人 + 修改时间（左对齐）

**FR-2.7** 知识详情页必须包含：
- 右侧目录导航
- 底部"我已学习完成"按钮（仅当从学习任务跳转时显示）

**FR-2.8** 管理员必须能够维护标签体系（增删改查一级、二级、操作标签）

---

### 4.3 题库与测验管理

**FR-3.1** 系统必须支持题目类型：单选题、多选题、判断题、简答题

**FR-3.2** 系统必须提供全局题库，供管理员集中维护题目

**FR-3.3** 系统必须支持通过 Excel 模板批量导入题目

**FR-3.4** 导师和室经理必须能够创建"测验/试卷"资源

**FR-3.5** 创建测验时，用户必须能够：
- 从题库中选择已有题目（单选、多选、判断、简答）
- 直接新建题目并添加到测验中
- 调整题目顺序（通过拖拽或上下移动按钮）
- 设定每道题的分数

**FR-3.6** 测验保存后必须成为可调用的静态资源，可在创建任务时选择

**FR-3.7** 管理员必须能够创建"公共标准试卷"供全平台调用

---

### 4.4 任务管理（核心）

#### 4.4.1 任务创建通用规则

**FR-4.1** 系统必须严格遵循"先生产资源，后发布任务"的逻辑

**FR-4.2** 系统必须支持三种任务类型：学习任务、练习任务、考试任务

**FR-4.3** 所有任务必须包含：任务标题、任务介绍、截止时间、目标学员

**FR-4.4** 导师创建任务时，人员选择器必须仅显示该导师名下的学员

**FR-4.5** 室经理创建任务时，人员选择器必须显示本室全员，支持全选/按入职筛选/手动勾选，且自动过滤创建者本人

**FR-4.6** 管理员创建任务时，人员选择器必须支持全公司范围选择

#### 4.4.2 学习任务 (Learning Task)

**FR-4.7** 学习任务的资源来源必须是知识库

**FR-4.8** 创建学习任务的流程必须为：输入标题/截止时间 → 勾选知识文档（多选） → 选择学员 → 发布

**FR-4.9** 学员完成学习任务的逻辑：阅读知识文档后点击"我已学习掌握"按钮

**FR-4.10** 学习任务详情页必须展示知识文档列表，学员点击后跳转到知识详情页

#### 4.4.3 练习任务 (Practice Task)

**FR-4.11** 练习任务的资源来源必须是测验/试卷库

**FR-4.12** 创建练习任务的流程必须为：输入标题/截止时间 → 勾选试卷资源（多选） → 勾选相关知识（可选） → 选择学员 → 发布

**FR-4.13** 练习任务中的"相关知识"为可选项，仅作为参考资料供学员查看

**FR-4.14** 学员完成练习任务后，系统必须：
- 客观题自动评分并立即显示解析
- 主观题进入"待评分"队列，显示"待评分"状态

**FR-4.15** 练习任务必须支持重做功能

**FR-4.16** 练习任务完成后必须显示：总分、答对题数、总用时、回顾解析按钮、重做按钮

#### 4.4.4 考试任务 (Exam Task)

**FR-4.17** 考试任务的资源来源必须是测验/试卷库

**FR-4.18** 创建考试任务的流程必须为：输入标题 → 设置考试开始时间和截止时间 → 设置防作弊开关（预留接口） → 勾选试卷资源（单选） → 选择学员 → 发布

**FR-4.19** 考试任务必须仅允许选择一份试卷

**FR-4.20** 考试任务必须禁止重做

**FR-4.21** 学员提交考试后，系统必须：
- 客观题自动评分
- 主观题进入"待评分"队列
- 所有主观题评分完成后才显示最终总分

**FR-4.22** 考试任务完成后必须显示：分数、答题情况，不显示重做按钮

**FR-4.23** 防作弊开关当前仅预留接口，暂不实现具体功能

#### 4.4.5 任务列表与详情

**FR-4.24** 学员任务中心必须提供筛选功能：
- 类型筛选：学习/练习/考试
- 状态筛选：进行中/已完成/已逾期

**FR-4.25** 任务列表必须以卡片样式展示，包含：
- 上部：任务标题 + 任务介绍
- 底部左侧：创建人 + 截止时间/状态
- 底部右侧：完成进度（例：10/20 人已完成）

**FR-4.26** 任务详情页必须包含：
- 头部信息：标题、介绍、创建人、子任务数量、截止时间、完成人数
- 下方列表：根据任务类型展示对应内容

---

### 4.5 答题与评分

**FR-5.1** 答题界面必须包含：
- 左侧或顶部题目导航（显示题号和答题状态）
- 内容区显示题干、选项、操作按钮

**FR-5.2** 客观题（单选、多选、判断）必须在学员提交后自动评分

**FR-5.3** 主观题（简答）必须进入"待评分"队列，等待人工评分

**FR-5.4** 导师和室经理必须能够访问"评分中心"，查看待评分的主观题列表

**FR-5.5** 评分界面必须包含：
- 左侧：题目内容 + 学员答案
- 右侧：得分输入框 + 评语输入框
- 支持"一键满分"按钮

**FR-5.6** 评分完成后，系统必须更新学员的任务总分

**FR-5.7** 练习任务的客观题评分后必须立即显示部分成绩和解析

**FR-5.8** 考试任务必须在所有主观题评分完成后才显示最终总分

**FR-5.9** 学员必须能够在个人中心查看错题本，汇总练习和考试中的错题

---

### 4.6 现场抽查

**FR-6.1** 导师和室经理必须能够录入现场抽查记录

**FR-6.2** 现场抽查流程必须为：选择对象 → 填写/选择抽查主题 → 录入评分（1-10 分）与评语 → 提交入库

**FR-6.3** 现场抽查记录必须作为独立的考核维度，在数据看板中单独展示

**FR-6.4** 现场抽查记录不计入学员的积分/学分体系

**FR-6.5** 导师和室经理必须能够查询历史抽查记录

---

### 4.7 仪表盘与数据看板

#### 4.7.1 学员仪表盘

**FR-7.1** 学员仪表盘必须显示：
- 数据统计（完成任务数、待办任务数、学习时长等）
- 待办任务列表（按截止时间排序）
- 最新知识（最近更新的文档列表）

#### 4.7.2 导师/室经理仪表盘

**FR-7.2** 导师/室经理仪表盘必须显示：
- 数据概览（所管辖员工完成率、平均分）
- 待办事项（待人工评分任务数量）
- 快捷入口（发起抽查、新建测验、发布任务）

#### 4.7.3 团队经理数据看板

**FR-7.3** 团队经理数据看板必须包含：
- 各室对比分析（完成率、平均分、任务数量等）
- 知识库热度分析（访问量、收藏量等）
- 员工分析（个人排名、学习时长、考试成绩等）

**FR-7.4** 团队经理不能创建测验或任务，仅查看数据

#### 4.7.4 管理员仪表盘

**FR-7.5** 管理员仪表盘必须显示全平台数据统计

---

### 4.8 个人中心

**FR-8.1** 个人中心必须包含：
- 用户基本信息
- 积分/学分记录
- 错题本（练习和考试错题汇总）

**FR-8.2** 错题本必须支持按任务类型、知识标签筛选

---

### 4.9 组织架构与权限配置

**FR-9.1** 管理员必须能够配置组织架构，划分一室和二室

**FR-9.2** 管理员必须能够指定室经理

**FR-9.3** 管理员必须能够绑定师徒关系（导师-学员）

**FR-9.4** 管理员必须能够管理用户列表（增删改查、重置密码）

**FR-9.5** 管理员必须能够为用户分配和管理角色（学员、导师、室经理、团队经理、管理员）

**FR-9.6** 系统必须支持用户拥有多个角色（如：学员 + 导师）

**FR-9.7** 系统必须预留外部通知接口，支持调用第三方通知服务（如钉钉、企业微信、邮件等）发送任务提醒和系统通知

---

## 5. Non-Goals (Out of Scope)

1. 不支持视频课程上传和播放（仅支持文档类知识）
2. 不支持实时在线考试监控（如人脸识别、屏幕监控）
3. 不支持社交功能（如学员间讨论、评论）
4. 不支持移动端 App（仅支持 Web 响应式设计）
5. 不支持第三方系统深度集成（如单点登录、组织架构同步），但预留通知接口
6. 不支持证书颁发功能
7. 不支持学习路径推荐（AI 推荐）
8. 不支持多语言切换（仅支持中文）

---

## 6. Design Considerations

### 6.1 UI/UX 要求

- 采用卡片式布局，提升信息可读性
- 筛选器和搜索框位置固定，方便快速操作
- 角色切换器位于顶部菜单栏显眼位置
- 答题界面左侧/顶部提供题目导航，方便跳转
- 评分界面采用左右分栏布局，提升评分效率

### 6.2 响应式设计

- 支持桌面端（1920x1080）和平板端（1024x768）
- 移动端暂不支持，但需预留响应式布局基础

### 6.3 组件复用

- 人员选择器组件需支持多种筛选模式（导师/室经理/管理员）
- 任务卡片组件需支持多种任务类型展示
- 标签筛选组件需支持多级联动

---

## 7. Technical Considerations

### 7.1 技术栈

- 前端：React + React Router + Ant Design / Material-UI
- 后端：Django + Django REST Framework
- 数据库：PostgreSQL（推荐）或 MySQL
- 对象存储：MinIO / 阿里云 OSS / AWS S3（用于存储知识文档附件、Excel 导入文件等）
- 认证：JWT Token

### 7.2 架构建议

- 采用前后端分离架构
- 后端提供 RESTful API
- 前端通过 API 调用获取数据
- 角色权限通过后端中间件统一控制

### 7.3 数据模型关键点

- 用户表需支持多角色关联（多对多）
- 任务表需关联资源表（知识库或测验）
- 测验表需关联题目表（多对多），并记录题目顺序
- 评分表需关联任务、学员、题目
- 通知表需记录通知类型、接收人、发送状态（预留外部接口调用）

### 7.4 性能考虑

- 知识库列表需支持分页加载
- 题库导入需支持异步任务处理
- 数据看板需考虑缓存机制
- 文件上传（知识文档、Excel 导入）需使用对象存储，避免数据库存储大文件

---

## 8. Success Metrics

1. 知识库文档数量达到 100+ 篇，覆盖 6 大类
2. 题库题目数量达到 500+ 道，支持多种题型
3. 学员任务完成率达到 85% 以上
4. 导师/室经理评分响应时间 < 24 小时
5. 系统页面加载时间 < 2 秒
6. 用户角色切换无菜单残留 bug，数据隔离准确率 100%
7. 团队经理数据看板每日访问量 > 10 次

---

## 9. Open Questions

1. 知识库是否需要支持版本管理（如文档修订历史）？
2. 是否需要支持任务模板功能（快速创建相似任务）？
3. 错题本是否需要支持"错题重练"功能？
4. 数据看板是否需要支持自定义报表导出（Excel/PDF）？
5. 外部通知接口需要支持哪些第三方服务（钉钉/企业微信/邮件/短信）？通知触发时机有哪些（任务发布/截止提醒/评分完成）？
6. 考试任务是否需要支持"草稿保存"功能（防止意外退出）？
7. 现场抽查是否需要支持照片上传（记录现场情况）？
8. 是否需要支持学员申诉功能（对评分有异议）？

---

## 附录：角色权限矩阵

| 功能模块 | 学员 | 导师 | 室经理 | 团队经理 | 管理员 |
|---------|------|------|--------|----------|--------|
| 查看知识库 | ✓ | ✓ | ✓ | ✓ | ✓ |
| 编辑知识库 | ✗ | ✗ | ✗ | ✗ | ✓ |
| 创建测验 | ✗ | ✓ | ✓ | ✗ | ✓ |
| 发布学习任务 | ✗ | ✓（仅学员） | ✓（本室） | ✗ | ✓（全公司） |
| 发布练习任务 | ✗ | ✓（仅学员） | ✓（本室） | ✗ | ✓（全公司） |
| 发布考试任务 | ✗ | ✓（仅学员） | ✓（本室） | ✗ | ✓（全公司） |
| 完成任务 | ✓ | ✓ | ✓ | ✓ | ✓ |
| 评分主观题 | ✗ | ✓ | ✓ | ✗ | ✓ |
| 现场抽查 | ✗ | ✓ | ✓ | ✗ | ✓ |
| 查看数据看板 | ✗ | ✓（学员） | ✓（本室） | ✓（全团队） | ✓（全平台） |
| 管理组织架构 | ✗ | ✗ | ✗ | ✗ | ✓ |
| 管理题库 | ✗ | ✗ | ✗ | ✗ | ✓ |

---

**文档版本：** v1.0  
**创建日期：** 2025-12-12  
**最后更新：** 2025-12-12  
**负责人：** [待填写]
